@tailwind base;
@tailwind components;
@tailwind utilities;

/* ══════════════════════════════════════════
   CSS VARIABLES
   ══════════════════════════════════════════ */
:root {
  --bg: #0A0A0F;
  --surface: #13131A;
  --surface-2: #1A1A24;
  --border: #2A2A35;
  --border-glow: #3A3A4A;
  --text: #E2E2E8;
  --text-dim: #8888A0;
  --purple: #8B5CF6;
  --gold: #F59E0B;
  --green: #10B981;
  --blue: #3B82F6;
  --red: #EF4444;
  --cyan: #06B6D4;

  /* Category colors */
  --cat-input: #3B82F6;
  --cat-api: #10B981;
  --cat-llm: #8B5CF6;
  --cat-output: #F59E0B;

  --font-display: 'Cinzel', serif;
  --font-mono: 'JetBrains Mono', monospace;
}

/* ══════════════════════════════════════════
   BASE STYLES
   ══════════════════════════════════════════ */
body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-mono), monospace;
  overflow-x: hidden;
}

::selection {
  background: rgba(139, 92, 246, 0.3);
  color: #fff;
}

/* ══════════════════════════════════════════
   HEX GRID BACKGROUND PATTERN
   ══════════════════════════════════════════ */
.bg-hex-grid {
  position: relative;
}
.bg-hex-grid::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    radial-gradient(circle at 1px 1px, rgba(139, 92, 246, 0.03) 1px, transparent 0);
  background-size: 40px 40px;
  pointer-events: none;
  z-index: 0;
}

/* Runic pattern overlay — subtle rotating symbols */
.bg-runic-pattern::after {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    radial-gradient(ellipse at 20% 50%, rgba(139, 92, 246, 0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(59, 130, 246, 0.03) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 80%, rgba(245, 158, 11, 0.02) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* ══════════════════════════════════════════
   SCANLINE OVERLAY
   ══════════════════════════════════════════ */
.scanlines {
  position: relative;
}
.scanlines::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.08) 2px,
    rgba(0, 0, 0, 0.08) 4px
  );
  pointer-events: none;
  z-index: 2;
}

/* ══════════════════════════════════════════
   CORNER BRACKET DECORATIONS (╔═══╗ style)
   ══════════════════════════════════════════ */
.rpg-panel {
  position: relative;
  background: var(--surface);
  border: 1px solid var(--border);
}

.rpg-panel::before,
.rpg-panel::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  border-color: var(--purple);
  border-style: solid;
  z-index: 3;
}

/* Top-left */
.rpg-panel::before {
  top: -1px;
  left: -1px;
  border-width: 2px 0 0 2px;
}

/* Top-right via extra element wrapper */
.rpg-panel::after {
  top: -1px;
  right: -1px;
  border-width: 2px 2px 0 0;
}

/* Bottom corners need inner spans or pseudo on child */
.rpg-panel-inner {
  position: relative;
  width: 100%;
  height: 100%;
}
.rpg-panel-inner::before {
  content: '';
  position: absolute;
  bottom: -1px;
  left: -1px;
  width: 16px;
  height: 16px;
  border-color: var(--purple);
  border-style: solid;
  border-width: 0 0 2px 2px;
  z-index: 3;
}
.rpg-panel-inner::after {
  content: '';
  position: absolute;
  bottom: -1px;
  right: -1px;
  width: 16px;
  height: 16px;
  border-color: var(--purple);
  border-style: solid;
  border-width: 0 2px 2px 0;
  z-index: 3;
}

/* Color variants */
.rpg-panel--gold::before, .rpg-panel--gold::after { border-color: var(--gold); }
.rpg-panel--gold .rpg-panel-inner::before, .rpg-panel--gold .rpg-panel-inner::after { border-color: var(--gold); }

.rpg-panel--blue::before, .rpg-panel--blue::after { border-color: var(--blue); }
.rpg-panel--blue .rpg-panel-inner::before, .rpg-panel--blue .rpg-panel-inner::after { border-color: var(--blue); }

.rpg-panel--green::before, .rpg-panel--green::after { border-color: var(--green); }
.rpg-panel--green .rpg-panel-inner::before, .rpg-panel--green .rpg-panel-inner::after { border-color: var(--green); }

/* ══════════════════════════════════════════
   RPG STAT BAR (Health/Mana bar style)
   ══════════════════════════════════════════ */
.stat-bar {
  position: relative;
  height: 20px;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--border);
  border-radius: 2px;
  overflow: hidden;
}

.stat-bar__fill {
  height: 100%;
  border-radius: 1px;
  transition: width 1s ease-out;
  position: relative;
}

.stat-bar__fill--purple {
  background: linear-gradient(90deg, #6D28D9, #8B5CF6);
  box-shadow: 0 0 10px rgba(139, 92, 246, 0.4);
}
.stat-bar__fill--green {
  background: linear-gradient(90deg, #059669, #10B981);
  box-shadow: 0 0 10px rgba(16, 185, 129, 0.4);
}
.stat-bar__fill--blue {
  background: linear-gradient(90deg, #2563EB, #3B82F6);
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
}
.stat-bar__fill--gold {
  background: linear-gradient(90deg, #D97706, #F59E0B);
  box-shadow: 0 0 10px rgba(245, 158, 11, 0.4);
}
.stat-bar__fill--red {
  background: linear-gradient(90deg, #DC2626, #EF4444);
  box-shadow: 0 0 10px rgba(239, 68, 68, 0.4);
}

/* Animated shimmer on stat bar */
.stat-bar__fill::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  animation: shimmer 2s ease-in-out infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.stat-bar__label {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-family: var(--font-mono);
  color: white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
  z-index: 1;
}

/* ══════════════════════════════════════════
   LEVEL / GRADE BADGES
   ══════════════════════════════════════════ */
.grade-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 10px;
  font-family: var(--font-display);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  border: 1px solid;
  border-radius: 2px;
}

.grade-badge--apprentice { color: #9CA3AF; border-color: #4B5563; background: rgba(75, 85, 99, 0.15); }
.grade-badge--smith { color: #60A5FA; border-color: #3B82F6; background: rgba(59, 130, 246, 0.1); }
.grade-badge--artisan { color: #34D399; border-color: #10B981; background: rgba(16, 185, 129, 0.1); }
.grade-badge--archmage { color: #A78BFA; border-color: #8B5CF6; background: rgba(139, 92, 246, 0.1); box-shadow: 0 0 8px rgba(139, 92, 246, 0.2); }
.grade-badge--runelord { color: #FCD34D; border-color: #F59E0B; background: rgba(245, 158, 11, 0.1); box-shadow: 0 0 12px rgba(245, 158, 11, 0.3); }

/* ══════════════════════════════════════════
   RPG BUTTON — "Cast Spell" Style
   ══════════════════════════════════════════ */
.rpg-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 28px;
  font-family: var(--font-display);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--text);
  background: transparent;
  border: 1px solid var(--purple);
  cursor: pointer;
  transition: all 0.3s ease;
  overflow: hidden;
}

/* Corner brackets on button */
.rpg-btn::before {
  content: '[ ';
  color: var(--purple);
  font-weight: 400;
}
.rpg-btn::after {
  content: ' ]';
  color: var(--purple);
  font-weight: 400;
}

/* Casting glow on hover */
.rpg-btn:hover {
  background: rgba(139, 92, 246, 0.1);
  border-color: var(--purple);
  box-shadow:
    0 0 15px rgba(139, 92, 246, 0.3),
    0 0 30px rgba(139, 92, 246, 0.1),
    inset 0 0 15px rgba(139, 92, 246, 0.05);
  text-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
  transform: translateY(-1px);
}

.rpg-btn--gold {
  border-color: var(--gold);
}
.rpg-btn--gold::before, .rpg-btn--gold::after { color: var(--gold); }
.rpg-btn--gold:hover {
  background: rgba(245, 158, 11, 0.1);
  box-shadow:
    0 0 15px rgba(245, 158, 11, 0.3),
    0 0 30px rgba(245, 158, 11, 0.1),
    inset 0 0 15px rgba(245, 158, 11, 0.05);
  text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
}

.rpg-btn--filled {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(139, 92, 246, 0.05));
}

/* ══════════════════════════════════════════
   GLOW PULSE ANIMATION
   ══════════════════════════════════════════ */
@keyframes glow-pulse {
  0%, 100% { opacity: 0.4; filter: blur(20px); }
  50% { opacity: 0.8; filter: blur(25px); }
}

@keyframes glow-pulse-subtle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

.glow-orb {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  animation: glow-pulse 4s ease-in-out infinite;
}

/* ══════════════════════════════════════════
   FLOAT / HOVER ANIMATIONS
   ══════════════════════════════════════════ */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes rotate-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes typewriter-cursor {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* ══════════════════════════════════════════
   RUNIC CIRCLE (CSS drawn mandala)
   ══════════════════════════════════════════ */
.runic-circle {
  position: absolute;
  border-radius: 50%;
  border: 1px solid rgba(139, 92, 246, 0.15);
  animation: rotate-slow 60s linear infinite;
}
.runic-circle::before {
  content: '';
  position: absolute;
  inset: 20px;
  border-radius: 50%;
  border: 1px solid rgba(139, 92, 246, 0.1);
  border-top-color: rgba(245, 158, 11, 0.2);
}
.runic-circle::after {
  content: '';
  position: absolute;
  inset: 40px;
  border-radius: 50%;
  border: 1px dashed rgba(139, 92, 246, 0.08);
}

/* ══════════════════════════════════════════
   HUD STAT PANEL (floating corners)
   ══════════════════════════════════════════ */
.hud-panel {
  background: rgba(19, 19, 26, 0.85);
  border: 1px solid var(--border);
  backdrop-filter: blur(10px);
  font-family: var(--font-mono);
  font-size: 12px;
}

/* ══════════════════════════════════════════
   INVENTORY SLOT (for skills grid)
   ══════════════════════════════════════════ */
.inventory-slot {
  position: relative;
  background: var(--surface);
  border: 1px solid var(--border);
  aspect-ratio: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  cursor: pointer;
}

.inventory-slot:hover {
  border-color: var(--purple);
  background: var(--surface-2);
  box-shadow: 0 0 12px rgba(139, 92, 246, 0.15);
  transform: translateY(-2px);
}

.inventory-slot::before,
.inventory-slot::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  border-color: rgba(139, 92, 246, 0.4);
  border-style: solid;
}
.inventory-slot::before {
  top: -1px; left: -1px;
  border-width: 1px 0 0 1px;
}
.inventory-slot::after {
  bottom: -1px; right: -1px;
  border-width: 0 1px 1px 0;
}

/* ══════════════════════════════════════════
   RUNIC BORDER BOTTOM (for navbar)
   ══════════════════════════════════════════ */
.runic-border-bottom {
  position: relative;
}
.runic-border-bottom::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--border) 10%,
    var(--purple) 30%,
    var(--gold) 50%,
    var(--purple) 70%,
    var(--border) 90%,
    transparent 100%
  );
  opacity: 0.6;
}

/* ══════════════════════════════════════════
   NAV ACTIVE GLOW
   ══════════════════════════════════════════ */
.nav-item {
  position: relative;
  font-family: var(--font-display);
  font-size: 13px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-dim);
  transition: color 0.2s;
  padding-bottom: 4px;
}
.nav-item:hover, .nav-item--active {
  color: var(--text);
}
.nav-item--active::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--purple);
  box-shadow: 0 0 8px var(--purple);
}

/* ══════════════════════════════════════════
   CATEGORY COLOR CODING
   ══════════════════════════════════════════ */
.cat-input { color: var(--cat-input); border-color: var(--cat-input); }
.cat-api { color: var(--cat-api); border-color: var(--cat-api); }
.cat-llm { color: var(--cat-llm); border-color: var(--cat-llm); }
.cat-output { color: var(--cat-output); border-color: var(--cat-output); }

.cat-badge {
  display: inline-block;
  padding: 1px 8px;
  font-size: 10px;
  font-family: var(--font-mono);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid;
  border-radius: 2px;
  background: rgba(0, 0, 0, 0.3);
}

/* ══════════════════════════════════════════
   QUEST BOARD HEADER
   ══════════════════════════════════════════ */
.quest-header {
  position: relative;
  padding: 40px 0;
  text-align: center;
}
.quest-header h1 {
  font-family: var(--font-display);
  font-size: 36px;
  letter-spacing: 0.15em;
  text-transform: uppercase;
}
.quest-header::before,
.quest-header::after {
  content: '◆';
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: var(--purple);
  opacity: 0.4;
  font-size: 12px;
}
.quest-header::before { left: 20%; }
.quest-header::after { right: 20%; }

/* ══════════════════════════════════════════
   SEARCH BAR (game style)
   ══════════════════════════════════════════ */
.rpg-search {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  font-family: var(--font-mono);
  font-size: 14px;
  padding: 10px 16px;
  width: 100%;
  outline: none;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.rpg-search::placeholder {
  color: var(--text-dim);
}
.rpg-search:focus {
  border-color: var(--purple);
  box-shadow: 0 0 10px rgba(139, 92, 246, 0.15);
}

/* ══════════════════════════════════════════
   UTILITY
   ══════════════════════════════════════════ */
.font-display { font-family: var(--font-display); }
.font-mono { font-family: var(--font-mono); }

.text-glow-purple { text-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
.text-glow-gold { text-shadow: 0 0 20px rgba(245, 158, 11, 0.5); }

/* Scrollbar styling */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--purple); }
